<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // Advanced "Catch the Falling Object" Game with Enhanced Features

      // Set up the canvas
      const canvas = document.createElement("canvas");
      const ctx = canvas.getContext("2d");
      document.body.appendChild(canvas);
      canvas.width = 400;
      canvas.height = 600;

      // Add styling for the canvas and body
      document.body.style.display = "flex";
      document.body.style.justifyContent = "center";
      document.body.style.alignItems = "center";
      document.body.style.height = "100vh";
      document.body.style.margin = "0";
      document.body.style.backgroundColor = "#f0f0f0";
      canvas.style.border = "2px solid #333";
      canvas.style.boxShadow = "0 4px 10px rgba(0, 0, 0, 0.2)";

      // Game variables
      let playerX = canvas.width / 2 - 20;
      let playerWidth = 40;
      let playerHeight = 20;
      let playerSpeed = 5;

      let fallingObjectX = Math.random() * (canvas.width - 20);
      let fallingObjectY = 0;
      let fallingObjectSize = 20;
      let fallingSpeed = 3;

      let score = 0;
      let highScore = 0;
      let gameOver = false;
      let isPaused = false;
      let level = 1;
      let colors = ["green", "red", "blue", "purple", "orange"];
      let currentColor = colors[0];
      let animationFrameId;

      // Create a UI container
      const uiContainer = document.createElement("div");
      uiContainer.style.position = "absolute";
      uiContainer.style.top = "10px";
      uiContainer.style.left = "10px";
      uiContainer.style.padding = "10px";
      uiContainer.style.backgroundColor = "rgba(255, 255, 255, 0.8)";
      uiContainer.style.border = "1px solid #ccc";
      uiContainer.style.borderRadius = "8px";
      uiContainer.style.boxShadow = "0 2px 5px rgba(0, 0, 0, 0.1)";
      document.body.appendChild(uiContainer);

      // Create score display
      const scoreDisplay = document.createElement("p");
      scoreDisplay.style.margin = "0";
      scoreDisplay.style.fontFamily = "Arial, sans-serif";
      scoreDisplay.style.fontSize = "16px";
      scoreDisplay.style.fontWeight = "bold";
      scoreDisplay.textContent = `Score: ${score}`;
      uiContainer.appendChild(scoreDisplay);

      // Create high score display
      const highScoreDisplay = document.createElement("p");
      highScoreDisplay.style.margin = "5px 0 0";
      highScoreDisplay.style.fontFamily = "Arial, sans-serif";
      highScoreDisplay.style.fontSize = "14px";
      highScoreDisplay.textContent = `High Score: ${highScore}`;
      uiContainer.appendChild(highScoreDisplay);

      // Create level display
      const levelDisplay = document.createElement("p");
      levelDisplay.style.margin = "5px 0 0";
      levelDisplay.style.fontFamily = "Arial, sans-serif";
      levelDisplay.style.fontSize = "14px";
      levelDisplay.textContent = `Level: ${level}`;
      uiContainer.appendChild(levelDisplay);

      // Create a restart button
      const restartButton = document.createElement("button");
      restartButton.textContent = "Restart";
      restartButton.style.marginTop = "10px";
      restartButton.style.padding = "5px 10px";
      restartButton.style.border = "none";
      restartButton.style.borderRadius = "5px";
      restartButton.style.backgroundColor = "#007BFF";
      restartButton.style.color = "white";
      restartButton.style.cursor = "pointer";
      restartButton.style.fontFamily = "Arial, sans-serif";
      restartButton.style.fontSize = "14px";
      restartButton.addEventListener("click", () => {
        cancelAnimationFrame(animationFrameId);
        resetGame();
        gameLoop();
      });
      uiContainer.appendChild(restartButton);

      // Create a pause button
      const pauseButton = document.createElement("button");
      pauseButton.textContent = "Pause";
      pauseButton.style.marginLeft = "10px";
      pauseButton.style.padding = "5px 10px";
      pauseButton.style.border = "none";
      pauseButton.style.borderRadius = "5px";
      pauseButton.style.backgroundColor = "#FFC107";
      pauseButton.style.color = "white";
      pauseButton.style.cursor = "pointer";
      pauseButton.style.fontFamily = "Arial, sans-serif";
      pauseButton.style.fontSize = "14px";
      pauseButton.addEventListener("click", () => {
        if (isPaused) {
          isPaused = false;
          pauseButton.textContent = "Pause";
          gameLoop();
        } else {
          isPaused = true;
          pauseButton.textContent = "Resume";
          cancelAnimationFrame(animationFrameId);
        }
      });
      uiContainer.appendChild(pauseButton);

      // Listen for keyboard input
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft" && playerX > 0 && !isPaused) {
          playerX -= playerSpeed;
        } else if (
          e.key === "ArrowRight" &&
          playerX < canvas.width - playerWidth &&
          !isPaused
        ) {
          playerX += playerSpeed;
        }
      });

      // Reset the game
      function resetGame() {
        playerX = canvas.width / 2 - 20;
        fallingObjectX = Math.random() * (canvas.width - 20);
        fallingObjectY = 0;
        fallingSpeed = 3;
        score = 0;
        level = 1;
        currentColor = colors[0];
        gameOver = false;
        isPaused = false;
        scoreDisplay.textContent = `Score: ${score}`;
        levelDisplay.textContent = `Level: ${level}`;
        pauseButton.textContent = "Pause";
      }

      // Game loop
      function gameLoop() {
        if (gameOver) {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "red";
          ctx.font = "30px Arial";
          ctx.textAlign = "center";
          ctx.fillText("Game Over!", canvas.width / 2, canvas.height / 2 - 20);
          ctx.fillText(
            `Score: ${score}`,
            canvas.width / 2,
            canvas.height / 2 + 20
          );
          return;
        }

        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw player
        ctx.fillStyle = "blue";
        ctx.fillRect(
          playerX,
          canvas.height - playerHeight - 10,
          playerWidth,
          playerHeight
        );

        // Draw falling object as a circle
        ctx.fillStyle = currentColor;
        ctx.beginPath();
        ctx.arc(
          fallingObjectX + fallingObjectSize / 2,
          fallingObjectY + fallingObjectSize / 2,
          fallingObjectSize / 2,
          0,
          Math.PI * 2
        );
        ctx.fill();

        // Update falling object position
        fallingObjectY += fallingSpeed;

        // Check for collision
        if (
          fallingObjectY + fallingObjectSize >=
            canvas.height - playerHeight - 10 &&
          fallingObjectX < playerX + playerWidth &&
          fallingObjectX + fallingObjectSize > playerX
        ) {
          score++;
          scoreDisplay.textContent = `Score: ${score}`;
          fallingObjectY = 0;
          fallingObjectX = Math.random() * (canvas.width - fallingObjectSize);
          fallingSpeed += 0.1; // Increase difficulty

          if (score % 10 === 0) {
            level++;
            currentColor = colors[level % colors.length];
            levelDisplay.textContent = `Level: ${level}`;
          }

          if (score > highScore) {
            highScore = score;
            highScoreDisplay.textContent = `High Score: ${highScore}`;
          }
        }

        // Check if object hits the ground
        if (fallingObjectY > canvas.height) {
          gameOver = true;
        }

        if (!isPaused) {
          animationFrameId = requestAnimationFrame(gameLoop);
        }
      }

      // Start the game
      gameLoop();
    </script>
  </body>
</html>
